(this["webpackJsonplwt.web"]=this["webpackJsonplwt.web"]||[]).push([[13],{293:function(e,t,n){"use strict";var a=n(110),r=n(129);t.a=()=>Object(a.useQuery)("languages",(()=>Object(r.a)()),{staleTime:6e6})},570:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(39),o=n(13),i=n(76),s=n(24),l=n(110),u=n(293),d=n(35);var g=()=>{const{data:e,isLoading:t,error:n}=Object(u.a)();if(n)throw n;return Object(l.useQuery)("lastReadText",(async()=>{const t=await Object(d.d)();if(!t)return null;const n=e.find((e=>e.code===(null===t||void 0===t?void 0:t.languageCode)));return{...t,language:n.name}}),{staleTime:6e4,enabled:!t})},j=n(141),b=n(254),h=n(3);var O=()=>{const{isLoading:e,error:t,data:n}=g();if(e)return Object(h.jsx)("div",{children:"Loading"});if(t&&s.b.error("failed to load last read text"),!n)return null;const a=(100*n.bookmark/n.termCount).toFixed(2);return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Previously read"}),Object(h.jsx)("h3",{children:n.title}),Object(h.jsx)("h4",{children:"".concat(n.language)}),Object(h.jsx)("h4",{children:"Done: ".concat(n.bookmark,"/").concat(n.termCount,"(").concat(a,"%)")}),Object(h.jsx)(j.b,{style:{textDecoration:"none"},to:"text/read/".concat(n.id),children:Object(h.jsx)(b.a,{color:"primary",variant:"outlined",children:"Continue reading"})})]})};const x=Object(c.b)((e=>({isLoggedIn:e.user.isLoggedIn,languages:e.language.languages,currentLanguage:e.language.currentLanguage})),{getLanguage:i.c,selectLanguage:i.d})((e=>{let{getLanguage:t,isLoggedIn:n}=e;return r.a.useEffect((()=>{n&&t()}),[]),n?Object(h.jsx)("div",{style:{padding:"2rem"},children:Object(h.jsx)(O,{})}):Object(h.jsx)(o.a,{to:"/login"})}));t.default=x}}]);
//# sourceMappingURL=13.78f03b13.chunk.js.map